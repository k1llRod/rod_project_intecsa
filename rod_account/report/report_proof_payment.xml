<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="rod_account_layout">
            <div class="header">
                <div class="row">
                    <t t-set="company" t-value="o.company_id"/>
                    <t t-set="user" t-value="user"/>
                    <div class="row mt20 mb32" style="border-bottom:1px solid #dddbdb;padding-bottom:10px;">
                        <div class="col-4" style="margin-top:15px;">
                            <img src="/rod_account/static/src/img/intecsa.jpeg" style="width:200px;"/>
                        </div>
                        <div class="col-4 text-center" style="font-size:20px;margin-top:25px;">
                            <ul style="list-style:none;">
                                <li><strong style="font-size:18px;"><span t-field="o.journal_id.title_report"/></strong></li>
                                <li><span t-field="o.journal_id.name"/></li>
                                <li>Fecha: <span t-field="o.date"/></li>
                            </ul>
                        </div>
                        <div class="col-4 text-center" style="font-size:20px;margin-top:25px;">
                            <span t-field="o.name"/>
                        </div>
                    </div>
                </div>
            </div>
            <div class="article o_report_layout_standard">
                <t t-out="0"/>
            </div>
            <div class="footer o_standard_footer">
                <div class="row">
                    <table class="table">
                        <tr>
                            <td style="width:33%;">
                                <center>Telf: 2311120 - 2314946</center>
                            </td>
                            <td style="width:33%;">
                                <center>@ intecsa@intecsa.com.bo</center>
                            </td>
                            <td style="width:33%;">
                                <center>https://www.intecsa.com.bo</center>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </template>
        <template id="rod_proof_layout">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <div class="page">
                        <t t-call="rod_account.rod_account_layout">
                            <div class="oe_structure"/>
                            <div class="row mt20 mb32">
                                <div class="col-8" style="font-size:14px;">
                                    <ul style="list-style:none;">
                                        <li style="font-size:16px;">
                                            <strong>Cliente: </strong> <span t-field="o.partner_id"/>
                                        </li>
                                        <li style="font-size:16px;">
                                            <strong>Glosa general:</strong> <span t-field="o.ref"/>
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-4" style="font-size:14px;">
                                    <ul style="list-style:none;">
                                        <li>
                                            <span>
                                                <strong>T.C.:</strong>
                                                <t t-set="usd_currency"
                                                   t-value="request.env['res.currency'].search([('name', '=', 'USD')], limit=1)"/>
                                                <t t-esc="round(usd_currency.inverse_rate,2)"/>
                                                (Bs.)
                                            </span>
<!--                                            <span><strong>T.C.:</strong> <t t-esc="o.currency_id.rate"/> (<t t-esc="o.currency_id.symbol"/>)</span>-->
<!--                                            <span t-field="o.currency_id.name"/>-->
                                        </li>
                                    </ul>
                                </div>

                            </div>
                            <br/>
                            <div>
                                <table class="table table-bordered" style="font-size:13px;width:100%;">
                                    <thead>
                                        <tr>
                                            <th style="font-size:16px;border-top:2px solid black;" scope="col">Codigo de cuenta</th>
                                            <th style="font-size:16px;border-top:2px solid black;" scope="col">Descripcion de la cuenta</th>
                                            <th style="font-size:16px;border-top:2px solid black;" scope="col">Debe</th>
                                            <th style="font-size:16px;border-top:2px solid black;" scope="col">Haber</th>
                                            <th style="font-size:16px;border-top:2px solid black;" scope="col">Debe (USD)</th>
                                            <th style="font-size:16px;border-top:2px solid black;" scope="col">Haber (USD)</th>
                                        </tr>
                                    </thead>
                                    <t t-set="ordered_lines" t-value="o.line_ids.sorted(key=lambda l: 0 if l.debit > 0 else 1)"/>
                                    <t t-foreach="ordered_lines" t-as="p">
                                        <tr>
                                            <td>
                                                <span t-field="p.account_id.code"/>
                                            </td>
                                            <td>
                                                <span t-field="p.account_id.name"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="p.debit"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="p.credit"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <t t-esc="round(usd_currency and p.debit / usd_currency.inverse_rate,2) if p.debit else 0.0"/> $
                                            </td>
                                            <td style="text-align:right;">
                                                <t t-esc="round(usd_currency and p.credit / usd_currency.inverse_rate,2) if p.credit else 0.0"/> $
                                            </td>
                                        </tr>
                                    </t>
                                    <t t-set="total_debit" t-value="sum(p.debit for p in ordered_lines)"/>
                                    <t t-set="total_credit" t-value="sum(p.credit for p in ordered_lines)"/>
                                    <tfoot>
                                        <tr>
                                            <td colspan="2" style="text-align:right;font-size:14px;border-bottom:2px solid black;">
                                                <strong>Total del comprobante:</strong>
                                            </td>
                                            <td style="border-bottom:2px solid black;font-size:14px;text-align:right;">
                                                <span t-field="o.total_debit"/>
                                            </td>
                                            <td style="border-bottom:2px solid black;font-size:14px;text-align:right;">
                                                <span t-field="o.total_credit"/>
                                            </td>
                                            <td style="border-bottom:2px solid black;font-size:14px;text-align:right;">
                                                <t t-esc="round(usd_currency and o.total_debit / usd_currency.inverse_rate,2)"/> $
                                            </td>
                                            <td style="border-bottom:2px solid black;font-size:14px;text-align:right;">
                                                <t t-esc="round(usd_currency and o.total_credit / usd_currency.inverse_rate,2)"/> $
                                            </td>
                                        </tr>

                                        <!--                                            <td></td>-->
                                        <!--                                            <td></td>-->
                                    </tfoot>

                                </table>
                            </div>
                            <t t-if="o.journal_id.select_report == 'income'">
                                <div class="row mt20 mb32" style="padding-top:120px;">
                                    <div class="col-2">

                                    </div>
                                    <div class="col-2" style="font-size:14px;border-top:1px solid black;">
                                        <center>Preparado por</center>
                                    </div>
                                    <div class="col-2">

                                    </div>
                                    <div class="col-2">

                                    </div>
                                    <div class="col-2" style="font-size:14px;border-top:1px solid black;">
                                        <center>Autorizado por</center>
                                    </div>
                                    <div class="col-2">

                                    </div>

                                </div>
                            </t>
                            <t t-if="o.journal_id.select_report=='egress'">
                                <div class="row mt20 mb32" style="padding-top:120px;">
                                    <div class="col-2">

                                    </div>
                                    <div class="col-2" style="font-size:18px;border-top:1px solid black;">
                                        <center style="font-size:16px;">Preparado por</center>
                                        <br/>
                                        <br/>

                                    </div>
                                    <div class="col-2">

                                    </div>
                                    <div class="col-2">

                                    </div>
                                    <div class="col-2" style="font-size:16px;border-top:1px solid black;">
                                        <center style="font-size:16px;">Autorizado por</center>
                                    </div>
                                    <div class="col-2">

                                    </div>

                                </div>
                                <div class="row mt20 mb32" style="padding-top:120px;">
                                    <div class="col-4">
                                        <ul style="list-style:none;text-align:justify;padding:0;font-size:16px;">
                                            <li style="margin-top:10px;">Firma:..........................................................................</li>
                                            <li style="margin-top:10px;">Aclaracion de firma:.............................................</li>
                                            <li style="margin-top:10px;">Documento de identidad:..................................</li>
                                        </ul>
                                    </div>
                                </div>

                            </t>

                            <div class="oe_structure"/>
                        </t>
                    </div>
                </t>
            </t>
        </template>
    </data>
</odoo>