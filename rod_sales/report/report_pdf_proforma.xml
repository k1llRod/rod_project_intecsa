<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="rod_layout">
            <div class="header">
                <div class="row">
                    <t t-set="company" t-value="o.company_id"/>
                    <t t-set="user" t-value="user"/>
                    <div class="row mt20 mb32" >
                        <div class="col-4" style="border: 1px solid black;">
                            <img src="/rod_sales/static/src/img/intecsa.jpeg" style="width:240px;display:block;margin:auto;margin-top:3px;"/>
                        </div>
                        <div class="col-4 text-center" style="font-size:24px;border:1px solid black;">
                            <span style="font-weight:bold;">
                                <strong>PROFORMA</strong>
                                <br/>
                            </span>
                            <span t-field="o.name"/>
                        </div>
                        <div class="col-4 text-center" style="font-style:arial;font-size:11px;border:1px solid black;">
                            <span t-field="company.partner_id"/>
                            <br/>
                            <span t-field="user.property_warehouse_id.street"/>
                            <br/>
                            <span t-field="user.property_warehouse_id.street2"/>
                            <br/>
                            <span t-field="user.property_warehouse_id.city"/>
                            <br/>
                            <span t-field="user.property_warehouse_id.state_id.name"/>
                            <span t-field="user.property_warehouse_id.country_id"/>
                            <!--                            <span t-field="company.partner_id.phone"/>-->
                            <!--                            <br/>-->
                            <!--                            <span>Santa Cruz</span>-->
                            <!--                            <br/>-->
                            <!--                            <span t-field="company.partner_id.country_id"/>-->
                            <br/>
                        </div>
                    </div>
                </div>
            </div>
            <div class="article o_report_layout_standard">
                <t t-out="0"/>
            </div>
            <div class="footer o_standard_footer">
                <div class="row">
                    <div>
                        <!-- Se agrega border="0" y estilos inline para forzar que no se muestren bordes -->
                        <table border="0" style="width:100%;border-style:hidden; font-size:13px; border-collapse: collapse; border-top: 1px solid black;">
                            <tr >
                                <td scope="col" style="width:33%; border: none;">
                                    <center><strong>Vendedor</strong></center>
                                </td>
                                <td scope="col" style="width:33%; border: none;">
                                    <center><strong>Telefono</strong></center>
                                </td>
                                <td scope="col" style="width:33%; border: none;">
                                    <center><strong>Email</strong></center>
                                </td>
                            </tr>
                            <tr style="border-style:hidden;border-bottom: 1px solid black;">
                                <td style="border: none;">
                                    <center>
                                        <span t-field="o.user_id.name"/>
                                    </center>
                                </td>
                                <td style="border: none;">
                                    <center>
                                        <span t-field="o.user_id.mobile"/>
                                    </center>
                                </td>
                                <td style="border: none;">
                                    <center>
                                        <span t-field="o.user_id.email"/>
                                    </center>
                                </td>
                            </tr>
                            <!-- Si no deseas ningún borde en la tabla, remueve el estilo que define los bordes -->
                            <tr style="border-bottom: 1px solid black;border-top: 1px solid black;">
                                <td style="width:33%; padding:10px; border: none;">
                                    <center>Telf: 2311120 - 2314946</center>
                                </td>
                                <td style="width:33%; border: none;">
                                    <center>@ intecsa@intecsa.com.bo</center>
                                </td>
                                <td style="width:33%; border: none;">
                                    <center>https://www.intecsa.com.bo</center>
                                </td>
                            </tr>
                            <tr style="border: none;">
                                <td colspan="3" style="border: none;">
                                    <center style="color:gray;">
                                        Pagina
                                        <span class="page" style="color:gray;"/>
                                        /
                                        <span class="topage" style="color:gray;"/>
                                    </center>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>

        </template>
        <template id="report_pdf_proforma">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <div class="page">
                        <t t-call="rod_sales.rod_layout">
                            <div class="oe_structure"/>
                            <br/>
                            <br/>
                            <div class="row mt20">
                                <div class="col-6" style="font-size:12px;">
                                    <ul style="list-style:none;">
                                        <li>
                                            <t t-esc="o.date_order.strftime('%A, %d de %B de %Y')"/>
                                        </li>
                                        <li>
                                            <strong>Señor(es):</strong>
                                        </li>
                                        <li>
                                            <t t-esc="o.partner_id.name"/>
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-6" style="font-size:12px;">
                                    <ul style="list-style:none;">
                                        <li>
                                            <strong>Validez:</strong>
                                            <t t-esc="o.validity"/> DIAS
                                        </li>
                                        <li>
                                            <strong>Garantia:</strong>
                                            <t t-esc="o.warranty"/>
                                        </li>
                                        <li>
                                            <strong>Entrega:</strong>
                                            <t t-esc="o.delivery_text"/>
                                        </li>
                                        <li>
                                            <strong>Forma de pago:</strong>
                                            <t t-if="o.payment_method == 'transfer'">
                                                <span>TRANFERENCIA</span>
                                            </t>
                                            <t t-if="o.payment_method == 'transfer_sigep'">
                                                <span>TRANSFERENCIA SIGEP</span>
                                            </t>
                                            <t t-if="o.payment_method == 'cheque'">
                                                <span>CHEQUE</span>
                                            </t>
                                            <t t-if="o.payment_method == 'qr'">
                                                <span>QR</span>
                                            </t>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div>
                                <table class="table table-striped" style="font-size:12px;width:100%;">
                                    <thead style="border-bottom-width: initial;">
                                        <tr style="page-break-inside:avoid;">
                                            <t t-if="o.print_image">
                                                <td style="width:20%;border: 1px solid black;">Imagen</td>
                                            </t>
                                            <td style="width:50%;border: 1px solid black;">
                                                <strong>Descripcion</strong>
                                            </td>
                                            <td style="width:10%;border: 1px solid black;">
                                                <strong>Cant.</strong>
                                            </td>
                                            <td style="width:10%;border: 1px solid black;">
                                                <strong>P.U.</strong>
                                            </td>
                                            <td style="width:10%;border: 1px solid black;">
                                                <strong>Subtotal</strong>
                                            </td>
                                        </tr>
                                    </thead>
                                    <tbody style="">
                                        <t t-set="counter" t-value="0"/>
                                        <t t-foreach="o.order_line" t-as="p" >
                                            <t t-set="counter" t-value="counter + 1"/>
                                            <tr t-if="p.product_uom_qty" style="page-break-inside:avoid;" t-att-style="'background-color: rgba(242,242,242,0.5);' if counter % 2 == 1 else ''">
                                                <t t-if="o.print_image">
                                                    <td class="text-center" style="border-left: 1px solid black;border-right: 1px solid black;">
                                                        <t t-if="p.product_id.image_128">
                                                            <img t-if="p.product_id.image_128" t-att-src="image_data_uri(p.image_128)"
                                                             style="width: 90%"/>
                                                        </t>
                                                        <t t-else="">

                                                        </t>
                                                    </td>
                                                </t>
                                                <td style="border-left: 1px solid black;border-right: 1px solid black;">
<!--                                                    <span t-field="p.product_id"/>-->
                                                    <span t-field="p.name"/>
                                                </td>
                                                <td style="border-left: 1px solid black;border-right: 1px solid black;">
                                                    <span t-field="p.product_uom_qty"/>
                                                </td>
                                                <td style="border-left: 1px solid black;border-right: 1px solid black;">
                                                    <span t-field="p.price_unit"/>
                                                </td>
                                                <td style="border-left: 1px solid black;border-right: 1px solid black;">
                                                    <span t-field="p.price_total"/>
                                                </td>
                                            </tr>
                                            <tr t-if="p.display_type =='line_note'" style="page-break-inside:avoid;">
                                                <t t-if="o.print_image">
                                                    <td class="text-left"
                                                        style="border-left: 1px solid black;border-right: 1px solid black;">
                                                        &amp;nbsp;
                                                    </td>
                                                </t>

                                                <td class="text-left" style="border-left: 1px solid black;border-right: 1px solid black;">
                                                    <span t-field="p.name"/>
                                                </td>
                                                <td style="border-left: 1px solid black;border-right: 1px solid black;"></td>
                                                <td style="border-left: 1px solid black;border-right: 1px solid black;"></td>
                                                <td style="border-left: 1px solid black;border-right: 1px solid black;"></td>
                                            </tr>
                                        </t>

                                    </tbody>

                                </table>
                            </div>
                            <div name="total" class="col-12" style="margin-top:5px;">
                                <div class="col-3 pull-right" style="margin-left: auto;">
                                    <table class="table table-condensed" style="font-size:16px;width:100%;background-color: rgba(242,242,242,0.5);">
                                        <tr>
                                            <td>
                                                <strong>Total</strong>
                                            </td>
                                            <td>
                                                <strong>
                                                    <span t-field="o.amount_total"
                                                          t-field-options='{"widget": "monetary", "display_currency": "o.pricelist_id.currency_id"}'/>
                                                </strong>
                                            </td>
                                        </tr>

                                    </table>
                                </div>
                            </div>
                            <div class="oe_structure"/>
                        </t>
                    </div>
                </t>
            </t>
        </template>
    </data>
</odoo>
